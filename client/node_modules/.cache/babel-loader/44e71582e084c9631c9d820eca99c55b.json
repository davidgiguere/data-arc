{"ast":null,"code":"import axios from 'axios';\nexport default {\n  signup: function signup(data) {\n    return axios.post('/api/user/signup', data);\n  },\n  login: function login(data) {\n    return axios.post('/api/user/login', data);\n  },\n  logout: function logout() {\n    localStorage.removeItem('user_id');\n    return axios.get('/api/user/logout');\n  },\n  updateUserInfo: function updateUserInfo(data) {\n    return axios.put('/api/user/update', data);\n  },\n  session: function session() {\n    // A simple caching method to make it faster\n    var cache = false;\n    return Promise.resolve().then(function () {\n      if (cache && localStorage.getItem('user_id')) {\n        return {\n          user: {\n            id: localStorage.getItem('user_id')\n          },\n          authenticated: true\n        };\n      } else {\n        return axios.get('/api/user/session').then(function (res) {\n          return res.data;\n        });\n      }\n    }).then(function (data) {\n      if (cache && data.user.id) {\n        localStorage.setItem('user_id', data.user.id);\n      }\n\n      return data;\n    });\n  }\n};","map":{"version":3,"sources":["/Users/erikwoodworth/Coding/ARC/data-arc/client/src/utils/Auth.js"],"names":["axios","signup","data","post","login","logout","localStorage","removeItem","get","updateUserInfo","put","session","cache","Promise","resolve","then","getItem","user","id","authenticated","res","setItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,EAAAA,MAAM,EAAE,gBAAAC,IAAI;AAAA,WAAIF,KAAK,CAACG,IAAN,CAAW,kBAAX,EAA+BD,IAA/B,CAAJ;AAAA,GADC;AAEbE,EAAAA,KAAK,EAAE,eAAAF,IAAI;AAAA,WAAIF,KAAK,CAACG,IAAN,CAAW,iBAAX,EAA8BD,IAA9B,CAAJ;AAAA,GAFE;AAGbG,EAAAA,MAAM,EAAE,kBAAM;AACZC,IAAAA,YAAY,CAACC,UAAb,CAAwB,SAAxB;AACA,WAAOP,KAAK,CAACQ,GAAN,CAAU,kBAAV,CAAP;AACD,GANY;AAObC,EAAAA,cAAc,EAAE,wBAAAP,IAAI;AAAA,WAAIF,KAAK,CAACU,GAAN,CAAU,kBAAV,EAA8BR,IAA9B,CAAJ;AAAA,GAPP;AAQbS,EAAAA,OAAO,EAAE,mBAAM;AACb;AACA,QAAMC,KAAK,GAAG,KAAd;AACA,WAAOC,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,YAAM;AAClC,UAAIH,KAAK,IAAIN,YAAY,CAACU,OAAb,CAAqB,SAArB,CAAb,EAA8C;AAC5C,eAAO;AACLC,UAAAA,IAAI,EAAE;AACJC,YAAAA,EAAE,EAAEZ,YAAY,CAACU,OAAb,CAAqB,SAArB;AADA,WADD;AAILG,UAAAA,aAAa,EAAE;AAJV,SAAP;AAMD,OAPD,MAOO;AACL,eAAOnB,KAAK,CAACQ,GAAN,CAAU,mBAAV,EACJO,IADI,CACC,UAAAK,GAAG;AAAA,iBAAIA,GAAG,CAAClB,IAAR;AAAA,SADJ,CAAP;AAED;AACF,KAZM,EAYJa,IAZI,CAYC,UAAAb,IAAI,EAAI;AACd,UAAIU,KAAK,IAAIV,IAAI,CAACe,IAAL,CAAUC,EAAvB,EAA2B;AACzBZ,QAAAA,YAAY,CAACe,OAAb,CAAqB,SAArB,EAAgCnB,IAAI,CAACe,IAAL,CAAUC,EAA1C;AACD;;AAED,aAAOhB,IAAP;AACD,KAlBM,CAAP;AAmBD;AA9BY,CAAf","sourcesContent":["import axios from 'axios';\n\nexport default {\n  signup: data => axios.post('/api/user/signup', data),\n  login: data => axios.post('/api/user/login', data),\n  logout: () => {\n    localStorage.removeItem('user_id');\n    return axios.get('/api/user/logout');\n  },\n  updateUserInfo: data => axios.put('/api/user/update', data),\n  session: () => {\n    // A simple caching method to make it faster\n    const cache = false;\n    return Promise.resolve().then(() => {\n      if (cache && localStorage.getItem('user_id')) {\n        return {\n          user: {\n            id: localStorage.getItem('user_id')\n          },\n          authenticated: true\n        };\n      } else {\n        return axios.get('/api/user/session')\n          .then(res => res.data);\n      }\n    }).then(data => {\n      if (cache && data.user.id) {\n        localStorage.setItem('user_id', data.user.id);\n      }\n\n      return data;\n    });\n  }\n};"]},"metadata":{},"sourceType":"module"}